{"ast":null,"code":"import _objectSpread from\"/home/jesse/Desktop/Weather Project/maplecast/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useSwipeable}from'react-swipeable';import CurrentWeather from'./CurrentWeather';import Forecast from'./Forecast';import HourlyForecast from'./HourlyForecast';import WeatherRadar from'./WeatherRadar';import'./WeatherPages.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const WeatherPages=_ref=>{let{weatherData,currentPage,setCurrentPage,coordinates,isDarkMode}=_ref;const[isTransitioning,setIsTransitioning]=useState(false);const[displayedPage,setDisplayedPage]=useState(0);const[showSwipeIndicator,setShowSwipeIndicator]=useState(true);const TOTAL_PAGES=4;// Handle page changes with transition\nconst changePage=newPage=>{if(newPage!==currentPage&&!isTransitioning){setIsTransitioning(true);setCurrentPage(newPage);setShowSwipeIndicator(false);}};// Update displayed page after transition\nuseEffect(()=>{if(isTransitioning){const timer=setTimeout(()=>{setDisplayedPage(currentPage);setIsTransitioning(false);},300);// Match this with the CSS transition duration\nreturn()=>clearTimeout(timer);}},[isTransitioning,currentPage]);// Update displayed page when currentPage prop changes\nuseEffect(()=>{setDisplayedPage(currentPage);},[currentPage]);// Hide swipe indicator after 5 seconds\nuseEffect(()=>{const timer=setTimeout(()=>{setShowSwipeIndicator(false);},5000);return()=>clearTimeout(timer);},[]);// Handle swipe gestures\nconst handlers=useSwipeable({onSwipedLeft:()=>{if(currentPage<TOTAL_PAGES-1){changePage(currentPage+1);}},onSwipedRight:()=>{if(currentPage>0){changePage(currentPage-1);}},preventDefaultTouchmoveEvent:true,trackMouse:false});// Render the current page content\nconst renderPageContent=()=>{// Use displayedPage for rendering to ensure smooth transitions\nswitch(displayedPage){case 0:return/*#__PURE__*/_jsx(CurrentWeather,{data:weatherData});case 1:return/*#__PURE__*/_jsx(HourlyForecast,{data:weatherData});case 2:return/*#__PURE__*/_jsx(Forecast,{data:weatherData});case 3:return/*#__PURE__*/_jsx(WeatherRadar,{coordinates:coordinates,isDarkMode:isDarkMode});default:return/*#__PURE__*/_jsx(CurrentWeather,{data:weatherData});}};return/*#__PURE__*/_jsx(\"div\",{className:\"weather-pages-container\",children:/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({},handlers),{},{className:\"weather-pages-content \".concat(isTransitioning?'transitioning':''),children:[renderPageContent(),showSwipeIndicator&&window.innerWidth<=768&&/*#__PURE__*/_jsxs(\"div\",{className:\"swipe-indicator\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-chevron-left\"}),\"Swipe to navigate\",/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-chevron-right\"})]})]}))});};export default WeatherPages;","map":{"version":3,"names":["React","useState","useEffect","useSwipeable","CurrentWeather","Forecast","HourlyForecast","WeatherRadar","jsx","_jsx","jsxs","_jsxs","WeatherPages","_ref","weatherData","currentPage","setCurrentPage","coordinates","isDarkMode","isTransitioning","setIsTransitioning","displayedPage","setDisplayedPage","showSwipeIndicator","setShowSwipeIndicator","TOTAL_PAGES","changePage","newPage","timer","setTimeout","clearTimeout","handlers","onSwipedLeft","onSwipedRight","preventDefaultTouchmoveEvent","trackMouse","renderPageContent","data","className","children","_objectSpread","concat","window","innerWidth"],"sources":["/home/jesse/Desktop/Weather Project/maplecast/src/components/WeatherPages.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSwipeable } from 'react-swipeable';\nimport CurrentWeather from './CurrentWeather';\nimport Forecast from './Forecast';\nimport HourlyForecast from './HourlyForecast';\nimport WeatherRadar from './WeatherRadar';\nimport './WeatherPages.css';\n\nconst WeatherPages = ({ weatherData, currentPage, setCurrentPage, coordinates, isDarkMode }) => {\n  const [isTransitioning, setIsTransitioning] = useState(false);\n  const [displayedPage, setDisplayedPage] = useState(0);\n  const [showSwipeIndicator, setShowSwipeIndicator] = useState(true);\n  const TOTAL_PAGES = 4;\n\n  // Handle page changes with transition\n  const changePage = (newPage) => {\n    if (newPage !== currentPage && !isTransitioning) {\n      setIsTransitioning(true);\n      setCurrentPage(newPage);\n      setShowSwipeIndicator(false);\n    }\n  };\n\n  // Update displayed page after transition\n  useEffect(() => {\n    if (isTransitioning) {\n      const timer = setTimeout(() => {\n        setDisplayedPage(currentPage);\n        setIsTransitioning(false);\n      }, 300); // Match this with the CSS transition duration\n      return () => clearTimeout(timer);\n    }\n  }, [isTransitioning, currentPage]);\n\n  // Update displayed page when currentPage prop changes\n  useEffect(() => {\n    setDisplayedPage(currentPage);\n  }, [currentPage]);\n\n  // Hide swipe indicator after 5 seconds\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setShowSwipeIndicator(false);\n    }, 5000);\n    return () => clearTimeout(timer);\n  }, []);\n\n  // Handle swipe gestures\n  const handlers = useSwipeable({\n    onSwipedLeft: () => {\n      if (currentPage < TOTAL_PAGES - 1) {\n        changePage(currentPage + 1);\n      }\n    },\n    onSwipedRight: () => {\n      if (currentPage > 0) {\n        changePage(currentPage - 1);\n      }\n    },\n    preventDefaultTouchmoveEvent: true,\n    trackMouse: false\n  });\n\n  // Render the current page content\n  const renderPageContent = () => {\n    // Use displayedPage for rendering to ensure smooth transitions\n    switch (displayedPage) {\n      case 0:\n        return <CurrentWeather data={weatherData} />;\n      case 1:\n        return <HourlyForecast data={weatherData} />;\n      case 2:\n        return <Forecast data={weatherData} />;\n      case 3:\n        return <WeatherRadar coordinates={coordinates} isDarkMode={isDarkMode} />;\n      default:\n        return <CurrentWeather data={weatherData} />;\n    }\n  };\n\n  return (\n    <div className=\"weather-pages-container\">\n      <div \n        {...handlers} \n        className={`weather-pages-content ${isTransitioning ? 'transitioning' : ''}`}\n      >\n        {renderPageContent()}\n        \n        {showSwipeIndicator && window.innerWidth <= 768 && (\n          <div className=\"swipe-indicator\">\n            <i className=\"fa-solid fa-chevron-left\"></i>\n            Swipe to navigate\n            <i className=\"fa-solid fa-chevron-right\"></i>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default WeatherPages; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}